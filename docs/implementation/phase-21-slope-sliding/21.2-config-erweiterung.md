# 21.2 Config-Erweiterung (Sliding-Parameter)

> **Commit:** `feat(phase-21): 21.2 Sliding Config-Parameter`
> **Branch:** `feat/slide-config`

---

## Ziel

Neue Sliding-Parameter in `ILocomotionConfig` und `LocomotionConfig` ergänzen. Die bestehenden Werte `SlopeSlideSpeed` und `UseSlopeDependentSlideSpeed` bleiben erhalten.

---

## Anweisungen

### 1. ILocomotionConfig erweitern

**Datei:** `Packages/Wiesenwischer.GameKit.CharacterController.Core/Runtime/Core/StateMachine/ILocomotionConfig.cs`

Neue Properties im `// Slope Sliding` Abschnitt (nach den bestehenden):

```csharp
// Slope Sliding (bestehend)
float SlopeSlideSpeed { get; }
bool UseSlopeDependentSlideSpeed { get; }

// Slope Sliding (neu)

/// <summary>
/// Beschleunigung beim Eingleiten in den Slide (m/s²).
/// Höhere Werte = schnellerer Übergang zu voller Slide-Geschwindigkeit.
/// </summary>
float SlideAcceleration { get; }

/// <summary>
/// Seitliche Lenkkraft während des Slidings (0 = keine Lenkung, 1 = volle Kontrolle).
/// Erlaubt dem Spieler, die Rutsch-Richtung zu beeinflussen.
/// </summary>
float SlideSteerStrength { get; }

/// <summary>
/// Hysterese-Winkel für den Exit aus dem Slide-State (Grad).
/// Character verlässt Slide erst bei SlopeAngle < MaxSlopeAngle - SlideExitHysteresis.
/// Verhindert Flackern an der Grenzwinkel-Kante.
/// </summary>
float SlideExitHysteresis { get; }

/// <summary>
/// Ob der Spieler aus dem Slide-State abspringen kann.
/// </summary>
bool CanJumpFromSlide { get; }

/// <summary>
/// Reduzierte Sprungkraft beim Abspringen aus dem Slide (Multiplikator, 0-1).
/// </summary>
float SlideJumpForceMultiplier { get; }

/// <summary>
/// Mindestzeit im Slide-State (Sekunden).
/// Verhindert sofortiges Flackern bei kurzzeitigem Slope-Kontakt.
/// </summary>
float MinSlideTime { get; }
```

### 2. LocomotionConfig implementieren

**Datei:** `Packages/Wiesenwischer.GameKit.CharacterController.Core/Runtime/Core/Locomotion/LocomotionConfig.cs`

Neue SerializeFields nach den bestehenden Slope-Sliding-Feldern:

```csharp
[Header("Slope Sliding")]
// Bestehend:
[SerializeField] private float _slopeSlideSpeed = 12f;  // Default von 8 auf 12 erhöhen
[SerializeField] private bool _useSlopeDependentSlideSpeed = true;

// Neu:
[Tooltip("Beschleunigung beim Eingleiten (m/s²)")]
[SerializeField] [Range(1f, 30f)] private float _slideAcceleration = 15f;

[Tooltip("Seitliche Lenkkraft (0 = keine, 1 = voll)")]
[SerializeField] [Range(0f, 1f)] private float _slideSteerStrength = 0.3f;

[Tooltip("Hysterese-Winkel für Slide-Exit (Grad)")]
[SerializeField] [Range(0f, 10f)] private float _slideExitHysteresis = 3f;

[Tooltip("Kann aus dem Slide gesprungen werden?")]
[SerializeField] private bool _canJumpFromSlide = true;

[Tooltip("Sprungkraft-Multiplikator beim Slide-Jump")]
[SerializeField] [Range(0f, 1f)] private float _slideJumpForceMultiplier = 0.7f;

[Tooltip("Mindestzeit im Slide-State (Sekunden)")]
[SerializeField] [Range(0f, 1f)] private float _minSlideTime = 0.2f;
```

Properties implementieren:
```csharp
public float SlideAcceleration => _slideAcceleration;
public float SlideSteerStrength => _slideSteerStrength;
public float SlideExitHysteresis => _slideExitHysteresis;
public bool CanJumpFromSlide => _canJumpFromSlide;
public float SlideJumpForceMultiplier => _slideJumpForceMultiplier;
public float MinSlideTime => _minSlideTime;
```

### 3. SlopeSlideSpeed Default-Wert anpassen

Den bestehenden Default von `8.0f` auf `12.0f` ändern (wie in der Spec empfohlen — spürbar schneller).

### 4. Kompilierung prüfen

```bash
powershell -Command "Get-Content 'C:\Users\marcu\AppData\Local\Unity\Editor\Editor.log' -Tail 100 | Select-String -Pattern 'error|CS\d{4}'"
```

---

## Verifikation

- [ ] `ILocomotionConfig` hat alle 6 neuen Properties
- [ ] `LocomotionConfig` implementiert alle neuen Properties mit SerializeFields
- [ ] Default-Werte entsprechen der Spezifikation
- [ ] `SlopeSlideSpeed` Default auf 12.0 erhöht
- [ ] Projekt kompiliert fehlerfrei

---

## Erwartete Änderungen

```
M  Packages/.../StateMachine/ILocomotionConfig.cs     (+6 Properties)
M  Packages/.../Locomotion/LocomotionConfig.cs         (+6 Fields, +6 Properties, 1 Default-Änderung)
```

---

**Nächster Schritt:** [21.3 Locomotion Slide-Intent](21.3-locomotion-slide-intent.md)
