# 22.1 Roll-Animation beschaffen + importieren

> **Commit:** `feat(phase-22): 22.1 Roll-Animation beschaffen und importieren`
> **Branch:** `feat/roll-animation-asset`

---

## Ziel

Mixamo-Roll-Animation beschaffen, importieren und mit den korrekten Root Transform Settings konfigurieren — konsistent mit den bestehenden Grounded-Animationen.

## Anweisungen

### 1. Animation von Mixamo herunterladen

1. Auf [Mixamo](https://www.mixamo.com/) nach **"Rolling"** oder **"Combat Roll"** suchen
2. Eine vorwärts gerichtete Roll-Animation wählen (~0.6–0.8 Sekunden Dauer)
3. Download-Einstellungen:
   - **Format:** FBX for Unity (.fbx)
   - **Skin:** Without Skin
   - **Frames per Second:** 30
   - **Keyframe Reduction:** None
   - **In Place:** ✅ Aktiviert (Root Motion wird nicht verwendet)

### 2. In Unity importieren

1. FBX-Datei als `Anim_Roll.fbx` in `Assets/Animations/Locomotion/` speichern
2. Import Settings im Inspector:

**Rig Tab:**
- Animation Type: **Humanoid**
- Avatar Definition: **Create From This Model**

**Animation Tab:**
- Clip Name: `Roll` (umbenennen falls nötig)
- Loop Time: **Aus** (One-Shot Animation)
- Loop Pose: **Aus**

**Root Transform Rotation:**
- Bake Into Pose: ✅
- Based Upon: **Body Orientation**

**Root Transform Position (Y):**
- Bake Into Pose: ✅
- Based Upon: **Feet** (Grounded Animation)

**Root Transform Position (XZ):**
- Bake Into Pose: ✅
- Based Upon: **Original**

### 3. AllowExit Event setzen

1. Im Animation Tab den Clip `Roll` auswählen
2. Events Section öffnen
3. Event hinzufügen bei **~80-90%** der Animation
4. Function: `AllowExit`
5. Dies markiert den frühestmöglichen Exit-Punkt (konsistent mit HardLanding Pattern)

**Hinweis:** Falls kein Event gesetzt werden kann (Mixamo FBX-Import), wird der Fallback `IsAnimationComplete()` verwendet — analog zu HardLandingState.

## Verifikation

- [ ] `Assets/Animations/Locomotion/Anim_Roll.fbx` existiert
- [ ] Rig Type = Humanoid, Avatar = Create From This Model
- [ ] Animation ist NOT looping (One-Shot)
- [ ] Root Transform: Bake Into Pose bei Y (Feet) und XZ (Original) und Rotation (Body Orientation)
- [ ] In Place aktiviert (kein Root Motion Drift)
- [ ] Animation Preview zeigt saubere Roll-Bewegung

## Erwartete Dateien

```
Assets/Animations/Locomotion/
├── Anim_Roll.fbx          ← NEU
├── Anim_Roll.fbx.meta     ← NEU (Unity generiert)
├── ... (bestehende Anims)
```

---

→ Nächster Schritt: [22.2 RollTriggerMode Enum + Config-Erweiterung](22.2-config-erweiterung.md)
