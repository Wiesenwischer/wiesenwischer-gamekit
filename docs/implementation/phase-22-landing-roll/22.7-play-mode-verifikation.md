# 22.7 Play Mode Verifikation

> **Commit:** `docs(phase-22): 22.7 Play Mode Verifikation`
> **Branch:** — (kein Branch, auf Integration-Branch)

---

## Ziel

Manuelle Tests im Play Mode durchführen, um die Landing Roll Mechanik unter realen Gameplay-Bedingungen zu verifizieren.

## Test-Szene

Verwende die **Playground-Szene** (`Assets/Scenes/Playground.unity`) oder die **AnimationTestScene** (`Assets/Scenes/AnimationTestScene.unity`):

1. Szene öffnen
2. Player platzieren via **Wiesenwischer > GameKit > Core > Place Player in Scene**
3. Play Mode starten

## Test-Checkliste

### Grundfunktion

- [ ] **Hoher Fall + Vorwärts-Input → Roll**
  - Von `Platform_High_10m` (10m) fallen mit W-Taste gedrückt
  - Character rollt vorwärts und geht nahtlos in Run über
  - Keine Hänger oder Sprünge im Übergang

- [ ] **Hoher Fall + Seitlicher Input → Roll seitlich**
  - Von `Platform_High_10m` fallen mit A oder D gedrückt
  - Character rollt in die gedrückte Richtung (kamerarelativ)
  - Rotation stimmt mit Bewegungsrichtung überein

- [ ] **Hoher Fall + Kein Input → HardLanding (unverändert)**
  - Von `Platform_High_10m` fallen ohne Input
  - Character zeigt HardLanding-Animation wie vorher
  - Kein Roll ohne Movement-Input

- [ ] **Niedriger Fall + Input → SoftLanding (unverändert)**
  - Von `Platform_Low_3m` (3m) fallen mit Input
  - Character zeigt SoftLanding-Verhalten wie vorher
  - Roll wird NICHT ausgelöst (unter HardLanding-Threshold)

### Übergänge

- [ ] **Roll → Sprint**
  - Während Roll Shift gedrückt halten
  - Nach Roll-Ende startet Sprint sofort
  - Flüssiger Geschwindigkeitsübergang

- [ ] **Roll → Idle (via MediumStop)**
  - Roll ohne Input am Ende
  - Character geht in MediumStop-Deceleration über
  - Kein abruptes Stehenbleiben

- [ ] **Roll → Jump blockiert**
  - Während Roll Space drücken
  - Character springt NICHT (Jump ignoriert)
  - Nach Roll-Ende: nochmal Space → Jump funktioniert

### Edge Cases

- [ ] **Sehr hoher Fall + Input → Roll**
  - Von `Platform_VeryHigh_20m` (20m) fallen mit Input
  - Roll funktioniert auch bei sehr hoher Fallgeschwindigkeit
  - Kein Durchfallen oder Clipping

- [ ] **Roll auf Slope**
  - Von Plattform auf `Slope_30deg` fallen mit Input
  - Roll-Animation passt sich an (kein Schweben über Boden)

- [ ] **Roll nahe Kante**
  - Roll in Richtung einer Kante
  - Character fällt von Kante wenn Roll über Kante hinausführt

### Config-Tests

- [ ] **RollEnabled = false → kein Roll**
  - Im Inspector: LocomotionConfig → Landing Roll → Roll Enabled = false
  - Hoher Fall + Input → HardLanding (immer)
  - Roll wird nie ausgelöst

- [ ] **RollSpeedModifier = 1.5 → schnellerer Roll**
  - Speed Modifier erhöhen → Roll-Geschwindigkeit steigt spürbar
  - Speed Modifier auf 0.5 → Roll ist langsamer

### Animation

- [ ] **Roll-Animation ist flüssig**
  - Kein Foot-Skating
  - Kein Zittern oder Sprung am Anfang/Ende
  - CrossFade-Übergang sauber (kein Pop)

- [ ] **Timing passt**
  - Roll-Dauer fühlt sich natürlich an (~0.6–0.8s)
  - Exit-Punkt (AllowExit Event) erlaubt reaktiven Übergang

## Bekannte Einschränkungen

- **ButtonPress-Modus:** Kann erst vollständig getestet werden wenn `DashPressed` Input-Action verdrahtet ist. Für MVP genügt MovementInput-Modus.
- **I-Frames:** Nicht implementiert (dokumentierte Future Hooks für Phase 9).

## Verifikation

- [ ] Alle Basis-Tests bestanden
- [ ] Alle Übergangs-Tests bestanden
- [ ] Keine visuellen Glitches
- [ ] Performance stabil (kein Frame-Drop während Roll)
- [ ] StateMachine Debug-Logs zeigen korrekte Transitions:
  ```
  [StateMachine] Falling → Rolling
  [StateMachine] Rolling → Running (oder MediumStopping)
  ```

---

← Zurück zur [Phase 22 Übersicht](README.md)
