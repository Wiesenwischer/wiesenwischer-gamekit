# 23.9 Play Mode Verifikation

> Kein eigener Commit/Branch — wird als Teil des letzten Feature-Branches oder direkt auf dem Integration-Branch verifiziert.

---

## Ziel

Alle Crouching-Features im Play Mode manuell testen und bestätigen.

---

## Test-Szene Vorbereitung

In der `AnimationTestScene` oder `PlaygroundScene` folgende Elemente sicherstellen:

1. **Freie Fläche** für Crouch-Idle und Crouch-Walk Tests
2. **Niedrige Decke** (ca. 1.5m Höhe) — für Stand-Up-Check Tests
3. **Offener Bereich** mit Decke daneben — für Decke→Freifläche Transition
4. **Kante/Plattform** — für Crouch→Falling Transition
5. **Steile Rampe** (> MaxSlopeAngle) — für Crouch→Sliding Test

---

## Manuelle Test-Checkliste

### Grundfunktion

- [ ] **C-Taste:** Togglet Crouching ein
- [ ] **C-Taste nochmal:** Togglet Crouching aus
- [ ] **Capsule sichtbar kleiner:** Debug-Visualisierung zeigt reduzierte Capsule-Höhe
- [ ] **Smooth Transition:** Capsule-Höhe interpoliert (kein abrupter Sprung)

### Animation

- [ ] **Crouch Idle:** Geduckte Ruhepose bei keinem Input
- [ ] **Crouch Walk:** Geduckte Laufbewegung bei Movement-Input
- [ ] **Blend Tree:** Smooth Übergang zwischen Idle und Walk basierend auf Speed
- [ ] **CrossFade Idle → Crouch:** Sanfter Übergang (~0.25s)
- [ ] **CrossFade Crouch → Idle:** Sanfter Übergang (~0.25s)

### Bewegung

- [ ] **Geschwindigkeit reduziert:** CrouchSpeed deutlich langsamer als RunSpeed
- [ ] **Alle Richtungen:** WASD funktioniert im Crouch-State
- [ ] **Rotation:** Character dreht sich in Bewegungsrichtung

### Transitions

- [ ] **Crouch → Sprint:** Sprint-Input beendet Crouch, Character sprintet
- [ ] **Crouch → Jump:** Jump-Input → Aufstehen + Springen
- [ ] **Crouch → Falling:** Über Kante → Aufstehen + Fallen
- [ ] **Crouch → Sliding:** Auf steilem Hang → Aufstehen + Rutschen

### Stand-Up-Check

- [ ] **Unter Decke:** C-Taste → Character kann NICHT aufstehen
- [ ] **Unter Decke + Sprint:** Sprint-Input → Character bleibt geduckt
- [ ] **Unter Decke → Freifläche:** Movement unter Decke heraus → C-Taste → kann aufstehen
- [ ] **Crouch Walk unter Decke:** Character läuft geduckt unter Decke durch

### Config-Werte

- [ ] **CrouchHeight:** Verschiedene Werte → Capsule-Höhe ändert sich
- [ ] **CrouchSpeed:** Verschiedene Werte → Laufgeschwindigkeit ändert sich
- [ ] **CrouchTransitionDuration:** 0.1s = schnelle Transition, 0.5s = langsame
- [ ] **CanJumpFromCrouch = false:** Jump wird aus Crouch ignoriert
- [ ] **CanSprintFromCrouch = false:** Sprint beendet Crouch nicht

### Performance

- [ ] **Kein Overhead:** Normale Grounded-Bewegung hat keinen spürbaren Performance-Einbruch
- [ ] **Kein GC:** Profiler zeigt keine Allocations im Crouch-Path
- [ ] **Capsule-Transition:** Keine GC-Allocations während SmoothDamp

---

## Bekannte Einschränkungen

- Kein Stealth-System (reduzierte Mob-Erkennung) — späteres Feature
- Kein Prone-State (Liegen) — späteres Feature
- Keine crouch-spezifischen Sound-Effekte — späteres Feature
- Keine Netzwerk-Synchronisation — Phase 6/7
- Kein Crouch-Jump (reduzierte Sprunghöhe) — optional, Config-Parameter möglich

---

## Ergebnis

Nach erfolgreicher Verifikation:
- Alle Checkboxen abgehakt
- Phase 23 kann als "Abgeschlossen" markiert werden
- PR: `integration/phase-23-crouching` → `main`
