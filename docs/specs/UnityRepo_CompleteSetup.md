
# ğŸ§© Unity GitHub Repository Setup & Modular Release Workflow

Dieses Dokument kombiniert:
1. Ein **vollstÃ¤ndiges GitHub Repository Setup** fÃ¼r Unity (inkl. `.gitignore`, LFS, Struktur)
2. Den **automatisierten Release Workflow** fÃ¼r modulare Pakete wie `wiesenwischer-gamekit-*`

---

## ğŸ“ 1. GitHub Repository Setup fÃ¼r Unity

### âœ… Empfohlene Struktur

```
my-unity-package/
â”œâ”€â”€ Assets/
â”‚   â””â”€â”€ Wiesenwischer.GameKit.MyModule/
â”œâ”€â”€ Packages/
â”œâ”€â”€ ProjectSettings/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .gitattributes
â””â”€â”€ README.md
```

---

### âš™ï¸ `.gitignore` (Unity + GitHub)

```gitignore
[Ll]ibrary/
[Tt]emp/
[Oo]bj/
[Bb]uild/
[Bb]uilds/
[Ll]ogs/

# Autogenerated VS/JetBrains
.vscode/
.idea/
*.csproj
*.unityproj
*.sln
*.user
*.pidb
*.suo

# OS
.DS_Store
Thumbs.db
```

---

### ğŸ“¦ Git LFS Konfiguration

Unity speichert groÃŸe BinÃ¤rdaten (z.â€¯B. Texturen, Audio, Szenen, Prefabs).

#### ğŸ“„ `.gitattributes` Beispiel

```
*.psd filter=lfs diff=lfs merge=lfs -text
*.png filter=lfs diff=lfs merge=lfs -text
*.jpg filter=lfs diff=lfs merge=lfs -text
*.fbx filter=lfs diff=lfs merge=lfs -text
*.mp3 filter=lfs diff=lfs merge=lfs -text
*.wav filter=lfs diff=lfs merge=lfs -text
*.unity filter=lfs diff=lfs merge=lfs -text
*.prefab filter=lfs diff=lfs merge=lfs -text
```

Dann im Terminal:

```bash
git lfs install
git add .gitattributes
git add <deine-Dateien>
git commit -m "Setup LFS"
```

---

## ğŸ§ª Lokales Setup

1. Unity-Projekt initialisieren
2. `.gitignore` + `.gitattributes` hinzufÃ¼gen
3. LFS aktivieren
4. Optional: `.editorconfig` und Namenskonventionen einrichten

---

## ğŸš€ 2. Automatisierter Release-Workflow

### ğŸ”§ Tools

| Tool | Zweck |
|------|-------|
| GitVersion | Automatische Versionierung |
| Release Drafter | Automatischer Changelog |
| PR Branch Labeler | Automatische Label durch Branch-Namen |
| GitHub Actions | CI/CD & Automatisierung |

---

### ğŸ§± `.github/pr-branch-labeler.yml`

```yaml
feature/*: feature
fix/*: bug
bugfix/*: bug
refactor/*: refactor
breaking/*: breaking-change
docs/*: docs
```

---

### ğŸ“œ `.github/release-drafter.yml`

```yaml
name-template: 'v$NEXT_PATCH_VERSION'
tag-template: 'v$NEXT_PATCH_VERSION'

categories:
  - title: "ğŸš€ Features"
    labels: ["feature"]
  - title: "ğŸ› Fixes"
    labels: ["bug"]
  - title: "âš ï¸ Breaking Changes"
    labels: ["breaking-change"]
  - title: "ğŸ§¹ Refactor"
    labels: ["refactor"]
  - title: "ğŸ“š Documentation"
    labels: ["docs"]

template: |
  ## Changes
  $CHANGES
```

---

### âš™ï¸ `.github/workflows/release.yml`

```yaml
name: Version & Release

on:
  push:
    branches:
      - main

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup GitVersion
        uses: gittools/actions/gitversion/setup@v0

      - name: Execute GitVersion
        id: gitversion
        uses: gittools/actions/gitversion/execute@v0

      - name: Create GitHub Release
        uses: softprops/action-gh-release@v1
        with:
          tag_name: v${{ steps.gitversion.outputs.semVer }}
          name: Release v${{ steps.gitversion.outputs.semVer }}
          body: |
            Drafted by Release Drafter.

      - name: Update Release Notes
        uses: release-drafter/release-drafter@v5
        with:
          tag: v${{ steps.gitversion.outputs.semVer }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

---

### âš™ï¸ `.github/workflows/auto-label.yml`

```yaml
name: Label PRs by Branch

on:
  pull_request:
    types: [opened, reopened, synchronize]

jobs:
  label:
    runs-on: ubuntu-latest
    steps:
      - uses: TimonVS/pr-branch-labeler-action@v3
        with:
          configuration-path: .github/pr-branch-labeler.yml
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

---

## âœ… Vorteile

- Kein Aufwand fÃ¼r manuelles Labeling
- Automatische Changelogs & Tags
- Modular fÃ¼r jeden Paket-Ordner einsetzbar
- Kompatibel mit Unity, UPM & GitHub Releases
- UnterstÃ¼tzt LFS & sauberen Git-Verlauf

---

## ğŸ NÃ¤chster Schritt

ğŸ‘‰ Nutze dieses Setup als **Template fÃ¼r alle Repos unter `wiesenwischer-gamekit-*`**.  
Auf Wunsch kann daraus auch ein **CLI-Tool oder Bash-Script** zur automatisierten Einrichtung erstellt werden.
